# Week 1: Danny's Dinner

### Environment: Microsoft SQL Server 2019 

This contains all the solutions to Case Study 1 of  [8 Weeks of SQL Challenge](https://8weeksqlchallenge.com) prepared and hosted by [Danny Ma](https://www.linkedin.com/in/datawithdanny/) 

The following is the ER Diagram \
![Danny's Dinner](/xothers/images/DannysDinner.png "Week 1 ERD")

It tries to attempt all the below questions
    <ol>
    <li>What is the total amount each customer spent at the restaurant?</li>
    <li>How many days has each customer visited the restaurant?</li>
    <li>What was the first item from the menu purchased by each customer?</li>
    <li>What is the most purchased item on the menu and how many times was it purchased by all customers?</li>
    <li>Which item was the most popular for each customer?</li>
    <li>Which item was purchased first by the customer after they became a member?</li>
    <li>Which item was purchased just before the customer became a member?</li>
    <li>What is the total items and amount spent for each member before they became a member?</li>
    <li>If each $1 spent equates to 10 points and sushi has a 2x points multiplier - how many points would each customer have?</li>
    <li>In the first week after a customer joins the program (including their join date) they earn 2x points on all items, not just sushi - how many points do customer A and B have at the end of January?</li>
    </ol>

It uses the knowledge of following techniques
    <ul>
    <li>Common Table Expressions</li>
    <li>Group By Aggregates/li>
    <li>Windows Functions</li>
    <li>Table Joins</li>
    </ul>

